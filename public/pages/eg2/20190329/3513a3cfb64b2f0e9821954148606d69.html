<!DOCTYPE html>

<html lang="CN">
<head>
<meta charset="utf-8"/>
<title>超级课程表</title>
<meta content="width=device-width" name="viewport"/>
<style>
        html,
        body {
            margin: 0;
            background-color: #EBEBEB;
            width: 100%;
            height: 100%;
        }

        mian {
            width: 100%;
            height: 100%;
        }

        table {
            font-size: 14px;
            margin: 0 auto 0;
            background-color: #F4F8F8;
            color: #385772;
        }

        table>tbody>tr {
            height: 60px;
            color: #FFFFFF;
            background-color: #FFFFFF;
        }

        table>tbody>tr>td {
            border-radius: 10px;
            padding: 3px;
        }

        table>tbody>tr>td:first-child {
            color: #385772;
            background-color: #F4F8F8;
            text-align: center;
        }

        .green {
            background-color: #71EB55;
        }

        .green:hover,
        .green:focus {
            background-color: #5CE53C;
        }

        .purple {
            background-color: #D48DFA;
        }

        .purple:hover,
        .purple:focus {
            background-color: #CE79FC;
        }

        .blue {
            background-color: #86B0FE;
        }

        .blue:hover,
        .blue:focus {
            background-color: #6B9EFC;
        }

        .red {
            background-color: #FF9393;
        }

        .red:hover,
        .red:focus {
            background-color: #FF7171;
        }

        .shadow {
            -webkit-box-shadow: 0 3px #EBEBEB;
            box-shadow: 0 3px #EBEBEB;
            cursor: pointer;
            -webkit-transition: border .25s linear, color .25s linear, background-color .25s linear;
            transition: border .25s linear, color .25s linear, background-color .25s linear;
        }

        .gray {
            background-color: #EAEFF5;
            color: #BCCAD7;
        }


        #output {
            width: 100%;
            height: 100%;
            background-color: rgba(25, 25, 25, 0.8);
            position: fixed;
            font-size: 14px;
            top: 0;
            left: 0;
            z-index: 9998;
            display: none;
        }

        #kuang {
            width: 300px;
            height: 200px;
            background-color: #FFFFFF;
            border-radius: 4px;
            -webkit-box-shadow: 0 0 0 1px #F0F0F0, 0 0 0 2px #F2F2F2, 0 0 0 3px #EEEEEE, 0 0 0 4px #E2E2E2, 0 0 0 5px #DDDDDD, 0 0 0 6px #D2D2D2, 0 0 0 7px #C2C2C2;
            box-shadow: 0 0 0 1px #F0F0F0, 0 0 0 2px #F2F2F2, 0 0 0 3px #EEEEEE, 0 0 0 4px #E2E2E2, 0 0 0 5px #DDDDDD, 0 0 0 6px #D2D2D2, 0 0 0 7px #C2C2C2;
        }

        #content {
            width: 300px;
            height: 270px;
            position: fixed;
            margin-left: -150px;
            margin-top: -135px;
            top: 50%;
            left: 50%;
            z-index: 9999;
        }

        #name {
            width: 100%;
            text-align: center;
            height: 60px;
            line-height: 60px;
            font-size: 18px;
        }

        .item {
            padding: 0 15px;
            height: 30px;
            line-height: 30px;
        }

        #close {
            background-color: #FF9393;
            color: #FFFFFF;
            margin: 30px auto 0;
            width: 40px;
            height: 40px;
            text-align: center;
            line-height: 40px;
            border-radius: 40px;
            cursor: pointer;
            -webkit-transition: border .25s linear, color .25s linear, background-color .25s linear;
            transition: border .25s linear, color .25s linear, background-color .25s linear;
        }

        #close:hover,
        #close:focus {
            background-color: #FF7171;
        }
    </style>
</head>
<body>
<main>
<table>
<colgroup>
<col width="30"/>
<col width="60"/>
<col width="60"/>
<col width="60"/>
<col width="60"/>
<col width="60"/>
<col width="60"/>
<col width="60"/>
</colgroup>
<thead>
<th>
<select>
<option value="1">1周</option>
<option value="2">2周</option>
<option value="3">3周</option>
<option value="4">4周</option>
<option value="5">5周</option>
<option value="6">6周</option>
<option value="7">7周</option>
<option value="8">8周</option>
<option value="9">9周</option>
<option value="10">10周</option>
<option value="11">11周</option>
<option value="12">12周</option>
</select>
</th>
<th>周6</th>
<th>周二</th>
<th>周三</th>
<th>周四</th>
<th>周五</th>
<th>周六</th>
<th>周日</th>
</thead>
<tbody>
<tr>
<td>1</td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td class="shadow" data-index="3" id="z312" rowspan="2"></td>
<td class="shadow" data-index="5" id="z412" rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
</tr>
<tr>
<td>2</td>
</tr>
<tr>
<td>3</td>
<td class="shadow" data-index="0" id="z134" rowspan="2"></td>
<td class="shadow" data-index="2" id="z234" rowspan="2"></td>
<td class="shadow" data-index="4" id="z334" rowspan="2"></td>
<td rowspan="2"></td>
<td class="shadow" data-index="7" id="z534" rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
</tr>
<tr>
<td>4</td>
</tr>
<tr>
<td>5</td>
<td class="shadow" data-index="1" id="z156" rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td class="shadow" data-index="6" id="z456" rowspan="2"></td>
<td class="shadow" data-index="8" id="z556" rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
</tr>
<tr>
<td>6</td>
</tr>
<tr>
<td>7</td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
</tr>
<tr>
<td>8</td>
</tr>
<tr>
<td>9</td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
</tr>
<tr>
<td>10</td>
</tr>
<tr>
<td>11</td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
<td rowspan="2"></td>
</tr>
<tr>
<td>12</td>
</tr>
</tbody>
</table>
<div id="output">
<div id="content">
<div id="kuang">
<div id="name"></div>
<div class="item"></div>
<div class="item"></div>
<div class="item"></div>
<div class="item"></div>
</div>
<div id="close">×</div>
</div>
</div>
</main>
</body>
<script src="js/jquery.js"></script>
<script>
    var web = "Web程序设计";
    var jm = "用户需求与系统建模";
    var wx = "文件检索与科技文档写作";
    var rj = "软件测试技术";
    var szfx = "数值分析";

    var z1 = "周一";
    var z2 = "周二";
    var z3 = "周三";
    var z4 = "周四";
    var z5 = "周五";

    var j12 = "1-2节";
    var j34 = "3-4节";
    var j56 = "5-6节";

    var lyh = "李雅红";
    var sz = "邵中";
    var mgk = "马广坤";
    var ssh = "孙书会";
    var qsb = "曲绍波";

    var F205 = "F-205*";
    var C308 = "C-308*";
    var D208 = "D-208*";
    var D308 = "D-308*";
    var B304 = "B-304*";
    var G204 = "G-204*";

    var fbz = "[非本周]";

    var k_list = [
        {
            id: 'z134',
            where: D208,
            when: [2, 3, 6, 7, 8],
            when_text: "2-3周 6-8周",
            kc: web,
            color: "green",
            day: z1,
            time: j34,
            teacher: lyh
        },
        {
            id: 'z156',
            where: D208,
            when: [1, 2, 3, 4, 6, 7, 8, 9],
            when_text: "1-4周 6-9周",
            kc: jm,
            color: "purple",
            day: z1,
            time: j56,
            teacher: sz
        },
        {
            id: 'z234',
            where: D308,
            when: [1, 2, 3],
            when_text: "1-3周",
            kc: wx,
            color: "blue",
            day: z2,
            time: j34,
            teacher: mgk
        },
        {
            id: 'z312',
            where: F205,
            when: [1, 2, 3, 4, 6, 7, 8],
            when_text: "1-4周 6-8周",
            kc: web,
            color: "green",
            day: z3,
            time: j12,
            teacher: lyh
        },
        {
            id: 'z334',
            where: C308,
            when: [1, 2, 3, 4, 6, 7, 8, 9, 10, 11],
            when_text: "1-4周 6-11周",
            kc: rj,
            color: "green",
            day: z3,
            time: j34,
            teacher: ssh
        },
        {
            id: 'z412',
            where: C308,
            when: [1, 2, 3, 4, 6, 7, 8, 9, 10, 11],
            when_text: "1-4周 6-11周",
            kc: jm,
            color: "purple",
            day: z4,
            time: j12,
            teacher: sz
        },
        {
            id: 'z456',
            where: B304,
            when: [1, 2, 3, 4, 6, 7, 8, 9, 10, 11],
            when_text: "1-4周 6-11周",
            kc: szfx,
            color: "red",
            day: z4,
            time: j56,
            teacher: qsb
        },
        {
            id: 'z534',
            where: C308,
            when: [1, 2, 3, 4, 6, 7, 8, 9, 10, 11],
            when_text: "1-4周 6-11周",
            kc: szfx,
            color: "red",
            day: z5,
            time: j34,
            teacher: qsb
        },
        {
            id: 'z556',
            where: G204,
            when: [1, 2, 3, 4],
            when_text: "1-4周",
            kc: rj,
            color: "green",
            day: z5,
            time: j56,
            teacher: ssh
        }
    ]

    var now = 0;

    now = Math.ceil(Math.floor((new Date() - new Date("2018-09-02")) / 3600 / 24 / 1000) / 7);
    $("select").val(now);

    var show = function (i) {
        $("#name").html(k_list[i].kc);
        $(".item").eq(0).html("教室：" + k_list[i].where);
        $(".item").eq(1).html("周数：" + k_list[i].when_text);
        $(".item").eq(2).html("节数：" + k_list[i].day + " " + k_list[i].time);
        $(".item").eq(3).html("老师：" + k_list[i].teacher);
        $("#output").fadeIn(500);
    }

    var update = function () {
        for (i in k_list) {
            var k = k_list[i];
            var km = k.kc + '@' + k.where;
            if (k.when.indexOf(now) == -1) {
                km = fbz + km;
                $("#" + k.id).addClass("gray");
                $("#" + k.id).removeClass(k.color);
            } else {
                $("#" + k.id).addClass(k.color);
                $("#" + k.id).removeClass("gray");
            }
            $("#" + k.id).html(km);
            $("#" + k.id).bind("click", function (e) {
                var index = e.target.dataset.index;
                show(index);
            });
        }
    }

    $("#close").bind("click", function () {
        $("#output").hide(500);
    });

    update();

    $("select").bind("change", function () {
        now = parseInt($(this).val());
        update();
    });

</script>
</html>